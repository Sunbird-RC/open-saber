language: java
jdk:
- openjdk8
cache:
  directories:
  - "$HOME/.m2"
before_script: "./configure-dependencies.sh"
script:
- echo "Starting build of commons and the registry..."
- cd ${TRAVIS_BUILD_DIR}/java && mvn clean install >> build.log 
- echo "Completed"
notifications:
  slack:
    rooms:
      secure: jpGKuDLl1gi9k5iy+ZrK4V/rY0zk1OPC6078zV9YcHf3FjBsMwqM/MTtCPujCeLdIEQzYtPphCJXlUXKBsMDmi31uNKy55e9LpcE41gbVmDN0GQFMjNSFVHQpD+83XZHlTYetiXHxO+MzUet6ahSWC/zUAzCfoLP+5uvRO7+huFl1fFQKzP2pM03tU4CzOVNa6hmN+rtsukIYWebqLtOBqg2HMdX0s9IgOzIKVAPffode/aqyGOeEZseAjV+7RaiSyVa8wjmcpDbAaLSzfWs9dT+MrPtIRrR71ufbkTyJsGDvzbpZJWlkWZ/wUpA8ewUw5t01o9kwb0ldzCUWgsY+Bg9lD7f49yFFekDVI7rL8FPTfrgg0/vam/8CRyGvcwjGVSfnkP7j2U9D81SRlS9/1wX2fWYkJQvDTtXEP2UXPS7ut4pE51BY7uj815rQI/hLe/oeRJbVdUOYYHEpfLt2h7MXzjpbwHCM/KuLnVSSE6ZofQlkPyfm+QK5OwbL+uqE+CWSiXOymy/3eEn687gvVE2djdHgxk/RPUSov8PwtoQP2/V2OBocdUStNsgPbZgC8YYIcG93xovKMmXTtordo+orYLKYTuTOHcNwhW1S5lRaD80g9XRlbLtUz6BPVO/beiJT7499+hlHpFutPr4gyH5lNFqY8uPx7iRzkC5Io8=
    on_success: always
    on_failure: always
after_failure:
  # dump the last 4000 lines of our build, and hope the error is in that!
- tail --lines=4000 build.log
- echo "Build failure"
after_success:
- tail --lines=2000 build.log
- echo "Build succeeded"
env:
  global:
  - secure: 2axWz21RxRybSLvkHYIX+2agTzHtnAkOsYUMTfdFb4lgy8hqbTUdTQ19BmndTN8JwMAvgHaBxw3M+podDSCHvtUbKmPmP3NBzWA7oPvcpb514FKh1oKR0ncyoJsfqbR5sE7ye990S7hqODb+laml23RqYFN8WjGlNCuGmwA369xaGrH6zLtxt80NCsbiNOjxIowKXjZqSEm7EBEW2Q0baijh11yC5Fn+5uDO0C1MUS/3x/wO2FP9PvCJBJpz7rJzLqecySyieP0I3oJ/iCWnAWoXczCpNX83Lh8RO6IkrNDfbaixXqCWSmkpfA/ZLrm6vngdrsxlxWsh7/wcyKLggVRCaBReNb0pMrnuln38wqnJdohdulATuT8JE62sRCHmtcDRks8cSQbDEjfAz4/2sqeKyz1XjU8iuXUeCJ4ovn1GIImiTFUfdhp8GRbXkDXuboXAEvrpGd9LcPvPJEqrzbWg7IKMLwTpHpShK5dCGiof8qZ+ncQyixCc3+6Mh0Q3QxFOCF6M4/a+Y3GrvdM4rCkrEek+loHBpDnpDO8DHvmqzw2bOQY26cFE1Wd7YpT7dJMwe5acAeCDQrVfZ1KbIuC6Og+jEvgUnYtHq/X4XsPFLBDrN22ZNMxnEmwrGD7AZ6GjP/DD6ICxFJZ+1mLEoxIZSwX/kVuzhTOPM90rL0g=
  - secure: VzaIFKTViYrcN/MvZbvAGXhXU57p+laE8MjZA6XNhlGNcmoqoXIPzqXc90GPAWw1iaySn1Br8ZntEcTDdazXPV/1ZS23SSTMrmIXT91ba4zt1agF9HhFCKbMdU3p0xFnGPjM05rrWWwncQXy6eoDLa9tiLDJmsO/n8taMGwD1hAIYUKye4vjmIn+SWsFSBwaIZXiK5lKqyqtLY9VuP9syoAre7wtEfj5UhT9JBxJ9TL3GpDbU69jmg8nAkb4UM5HZorN6iT9cgacpXvGpnFJXNN1qe320y4IZDRK04ShISp80oig3l8GDX98L0Zb9m9sy72NuHg8LJYcQlFIySE+GCXzbwK7GZXLUMC/OdcQrzZeloeLdCDc3wsCQ+3YNlS516PcSvVSyfICfFmyx9OOSLxMM00In2aWBW1yt7cfDgqH0l822pvaKe+LDl28023psBMR6GahT+n5gkuPsNb5r3ar6rGKzQDHXTg0M8+TRZvvlkm7n/XVZ5ThDpCv8WYu7ZpInEh8D8pqss4rb19y0y7WiPyUub9L5AKXDSr20TJaw6bYpGLgIImCBk4+IvUT8utp1RVRAJGAknPYaKLeb6tar59PsNgG8jQkIr0eRQw8UWFcvjDtlALo/NeZf9qnTD3uJSih98FXJai0KYO6K3x2Dg2k4Jtw9yO7egrCsfM=
  - secure: 0OlD3WeXUFePAIWs3909K8Oujk+AqHh8skNnuIXwCjEu/HUXtXvMLU36GuVdgQ6wnCddMDldVyoNKTQsmdmFMvKH4JoNtGdRdiisuqVmVpZbv40kmzQ7YHZszsricOQSSAHX8SuFjToKyrny9jTCZHMExAZKBgSL2VsHQ6zREAKdm2Hfy8TxHAkXL8ZNm/xzJlOJLfsYDtS2MsP1cNUHw6ZG2UtQinnyv8ghGefMNoUA7wUiG7qAtMt82wD0uuBkNoRRbTZxTsrc4BO7HvYqoO/75KBh2yUL74JXLROeGLV7Xahvq4pr4wMEaX1ly2iJBXWiOGenAMBaGHjxUuXoZ7ySaxryAFYZeHh+qpBG4/GJQEqSvGF+BUMBJh32O2S715S4jLxCvgCsRJA/IhnAI74A8FSEYjF4645jbqWKtxMAv3U3kk51IUNwPv0B/MaiW6NpZq6VgBhdXm9rrUo/dfpG9ONb7Ccls6mk0ozYQ9ckNFbY5Ocx4kGD7ClhOOU4WbiysUg2D1F4LBIoY17BobrfjcwBWkUeRVvhWEXLiKfmzJoZ0sH2oiRwIURv4x/e1IjBLGelpgB4eEpAivjKUxM9Sw8Ltw9W87n2MGaGEFXb0CCIv94sSt0j1u/EDzYRaYd1w/pHWwQIE8ZuKn4OW8xisMfgRNbvAV0ZQLmVU1U=
  - secure: K46z1lM1IqdGMHv5/S9hwHGa+X3obo60r6uYjRyafbAbrG2OPefO3KTmb8uZsHfYYrfA3rJ1ddwQFv5jcl4mKzaeFqQC7zTvOMClOtZ040YJF4V+tPvwMmF/s/b8WTKnEJrjq/JXz2gg1Hnpaa5cJGbgTP4JqbKAOB+03vwYqs1wgIwZIOIlZZF/NifVsewmJLvzjeDvrHTMzZAU95QnLVEZMG84kV2Lw/6QLkPuNqOjmiu7rKoCToETXfrk9lNpgSJCNyUNF1gzWxH6+jfnpAEFbJlon2v11oQu2nOcc1i7+UlOZ+tMWX25F7Uz8ExFKl/V7a6eDvzZyYBPubbpZaH7fOOKFYUoh/CZ/tQ/kBJxV0U91WZ5fXi0QicyzLDuTLQhksQ0eTe+XOJilErsy+OFHnHSVeb0FDxbKzY0+hGVmv8s/sIEzqnUGrAQPVckrnv+f/n6EBfPUPuDC3rg6owaGwvfD/ZKuxPGgR/o6vHY4PtHg9Pq6tPuWUiEd8G92mrIcx78eOHsfX/3nsttHUGi4gsMCt2P5p/qchvCPIaV/RLFD8dyHgEsrlOoyF87bDwaVhl3MIq4wzk9XD0JO/CQ6e2bpmMDhK+OlNio2JMdIs67xnF8FwjhN+o48p9Lvet6EGsEBeovLQCuYl/S9Bc3gDiOBYAvU8uKzdL2c3Q=
  - secure: hwv3bXkm6pOkyyb/ny/t4H431VaYjALC8zFtOWYU4I86gjH45lKqxO4JsJaibTzM8cv75lZGmliE9c5SA/U2+3ph4Bj2iTKzNrhJHn5+72Xg/3+LBBWdSZ5VyNOd3nDyzjcwbLDQHj3BetCmR5QH8avrSxABI9hSrUOpsanBU39ygTmrsq7Cyt7qkcuCD9HDyiQvyxUYnJjzWgfAFI1HCjeoHDVcXoJ5WAvPHKdkGFXCQ+lo1BI8gu9E80TKFOFfWmukRufepplj1Uzxd8toV4DhGv6h7ywHydNTUSz8oLz06sqZ01HMtaYjkJxzJmazLnhuyD+0JtupWp+102Ep+L7zzRdbz7WQdvu0aVy0GfuRXrrNy/0QP17ecrYBOVCoCtZRg/mQ2Qu4Ic4aw93aGWlDM5q7/+GFSLZYhHfO1+Vei7O0rWSOyFkqAd9keU9rLprbpywBn9Qc7prJPciTBZD8bhupeSc6MViVXR/ULXZR18AwljKUHc5fSiUoU/Pb0TFpAdM/nxwGnb5T/wSyeBrFRbqKQ9+NJ7hIfrzrviMzmIKlOW0K3MMYtqgcx1+epkakMlwtyxzyjbtRxHT+fODsClSP3kaF+a+3YEQK+MMqDaCb162WtgsFEDLn/VyMfNuVKmqB/YaU92/pPCWwBZkPm7j4J5EfakF7HX5vh6w=
  - secure: rkJM3Dc+gLcdKRrBn0qQ2wyt+2hk0E9iVOnWFeOoxbS733VHjBsQGlQddoidYJVeggfeIenurziOX1++k5nMH7Uro4qz8UjR32FH37P0Ohe3dGtMTnWEWKN98gvbQX1amv6lktZMuVlBoks8xWeavkTjEGVOnYWpxKzEUGn9xkmZikFK1IxCv2qqGlDj9lMMgwkqF0poBe2X6F5zJkjKhqCDqGwV7NVV/HKdts00FQJXuyo5JjaMjfV68QKxZUloT2HM+7DQTwEBrQwfwQ0SQgGAzsFLYUEMo+m5eh+iZuZqf1tv/EUCv2BporcpbEspTxZsvZxL7FGAVVCNcyIvKpCA47vAs2yFzrjQF/2jLnd01iplCJQZlsbVwbhqbskkDklsJPnNcXXWAJdqgzW8TwYoajX1Zpw0dMiq9FDQZS53vryM03bBS7fEzTootz7ST9ikg9zfL3nqrvlSA9kFEwZwi3k2KJqm70UV1kv9wsQrl7k9eML6hvAjCFwIi/qoQL0Atm5sNNAl40LNQRLBkrmdisP5+xvhKB+oDM+4POBJUjn0a6uoiI6kTWsiA0vJ8q4BAsnq2ooZ/rdKeZsV8TW0Kt8rAP6ZjIfO9j+k2eX1Y4lVA3RIhYzgJ6/5NFb9nLVDt93dL/DTPYwYZSldCGsXstFCbG1lVg9KgBlbjWc=
